{"swagger":"2.0","info":{"description":"API de acesso aos dados do transporte público do estado do Espírito Santo","version":"1.12.2","title":"api-ceturb"},"basePath":"/","tags":[{"name":"api-ceturb","description":""}],"schemes":["https","http"],"securityDefinitions":{},"paths":{"/":{"get":{"summary":"Hello World!","description":"Mensagem de boas vindas","responses":{"200":{"description":"Welcome message","schema":{"type":"string"}}},"tags":["raiz"],"produces":["application/json"],"consumes":["application/json"]}},"/pontos":{"get":{"summary":"Pontos de parada","description":"lista os pontos de parada ativos. \nOrigem: ceturb/geocontrol","responses":{"200":{"description":"Pontos encontrados","schema":{"type":"array","items":{"$ref":"#/definitions/Ponto"}}},"204":{"description":"Pontos não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Pontos"],"produces":["application/json"],"consumes":["application/json"]}},"/pontos/area/{ponto_geografico_esquerdo_inferior}/{ponto_geografico_esquerdo_superior}/{ponto_geografico_direito_superior}/{ponto_geografico_direito_inferior}":{"get":{"summary":"Pontos de parada por Area do mapa","description":"Retorna um array com os ids dos pontos de parada dentro da area do mapa especificada.\nAlguns valores para teste: \nponto_geografico_esquerdo_inferior: -20.282983882640348 \nponto_geografico_esquerdo_superior: -40.309548147161195 \nponto_geografico_direito_superior: -40.29407716556429\nponto_geografico_direito_inferior: -20.274791927077008 \nA URL para essa busca ficaria assim:\n/area/-40.309548147161195/-20.282983882640348/-40.29407716556429/-20.274791927077008","parameters":[{"name":"ponto_geografico_esquerdo_inferior","required":true,"in":"path","description":"Coordenada do ponto geográfico esquerdo inferior (SIGNED FLOAT)","type":"number"},{"name":"ponto_geografico_esquerdo_superior","required":true,"in":"path","description":"Coordenada do ponto geográfico esquerdo superior (SIGNED FLOAT)","type":"number"},{"name":"ponto_geografico_direito_superior","required":true,"in":"path","description":"Coordenada do ponto geográfico direito superior (SIGNED FLOAT)","type":"number"},{"name":"ponto_geografico_direito_inferior","required":true,"in":"path","description":"Coordenada do ponto geográfico direito inferior (SIGNED FLOAT)","type":"number"}],"responses":{"200":{"description":"Pontos encontrados","schema":{"type":"array","items":{"$ref":"#/definitions/Ponto"}}},"204":{"description":"Pontos não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}},"400":{"description":"Parâmetros fora do formato numérico","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Pontos"],"produces":["application/json"],"consumes":["application/json"]}},"/pontos/itinerarios":{"get":{"summary":"Pontos associados a Itinerários","description":"retornar todas as associações entre pontos e itinerários","responses":{"200":{"description":"Lista de associações entre pontos e itinerários","schema":{"type":"array","items":{"$ref":"#/definitions/PontoItinerario"}}},"204":{"description":"Dados não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Pontos"],"produces":["application/json"],"consumes":["application/json"]}},"/linha":{"get":{"summary":"Linhas","description":"listar as linhas de ônibus ativas. \nOrigem: Geocontrol","responses":{"200":{"description":"Linhas encontradas","schema":{"type":"array","items":{"$ref":"#/definitions/LinhaDto"}}}},"tags":["Linhas"],"produces":["application/json"],"consumes":["application/json"]}},"/linha/{numero}/itinerarios":{"get":{"summary":"Itinerarios por linha","description":"lista os itinerários existentes de uma linha. \nOrigem: Geocontrol","parameters":[{"name":"numero","required":true,"in":"path","description":"Numero de bandeira da Linha","type":"number"}],"responses":{"200":{"description":"itinerário encontrado","schema":{"type":"array","items":{"$ref":"#/definitions/itinerarioDto"}}},"404":{"description":"Itinerario não encontrado","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Linhas"],"produces":["application/json"],"consumes":["application/json"]}},"/linha/{numero}/horarios":{"get":{"summary":"Horarios por Linha","description":"lista os horarios de uma linha. \nOrigem: Geocontrol","parameters":[{"name":"numero","required":true,"in":"path","description":"Numero de bandeira da Linha","type":"number"}],"responses":{"200":{"description":"Horarios encontrados","schema":{"type":"array","items":{"$ref":"#/definitions/HorarioDto"}}},"404":{"description":"Horários não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Linhas"],"produces":["application/json"],"consumes":["application/json"]}},"/linha/{numero}/horarios/obs":{"get":{"summary":"Observações sobre as linhas","description":"lista as possíveis observações sobre os horarios de uma linha. \nOrigem: Geocontrol","parameters":[{"name":"numero","required":true,"in":"path","description":"Numero de bandeira da Linha","type":"number"}],"responses":{"200":{"description":"Observações encontradas","schema":{"type":"array","items":{"$ref":"#/definitions/HorarioObsDto"}}},"404":{"description":"Não há observações","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Linhas"],"produces":["application/json"],"consumes":["application/json"]}},"/viagens":{"get":{"summary":"Listar viagens","description":"lista todas as viagens ativas. \nOrigem: Geocontrol","responses":{"200":{"description":"Viagens encontradas","schema":{"type":"array","items":{"$ref":"#/definitions/ViagemDto"}}}},"tags":["Viagens"],"produces":["application/json"],"consumes":["application/json"]}},"/itinerarios":{"get":{"summary":"Listar itinerarios","description":"lista os itinerários existentes. \nOrigem: Geocontrol","responses":{"200":{"description":"Itinerários encontrados","schema":{"type":"array","items":{"$ref":"#/definitions/itinerarioDto"}}},"204":{"description":"Itinerários não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Itinerarios"],"produces":["application/json"],"consumes":["application/json"]}},"/estimativas/ponto/{id_origem}/origem":{"get":{"summary":"Estimativas por Origem","description":"retornar estimativas por ponto de origem. \nOrigem: Geocontrol","parameters":[{"name":"id_origem","required":true,"in":"path","description":"Numero de identificação do ponto de origem","type":"number"}],"responses":{"200":{"description":"Estimativas encontradas","schema":{"type":"array","items":{"$ref":"#/definitions/estimativasDto"}}},"404":{"description":"Estimativas não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Estimativas"],"produces":["application/json"],"consumes":["application/json"]}},"/estimativas/ponto/{id_origem}/origem/{id_destino}/destino":{"get":{"summary":"Estimativas por Origem e Destino","description":"retornar estimativas por ponto de origem e ponto destino. \nOrigem: Geocontrol","parameters":[{"name":"id_destino","required":true,"in":"path","description":"Numero de identificação do ponto de destino","type":"number"},{"name":"id_origem","required":true,"in":"path","description":"Numero de identificação do ponto de origem","type":"number"}],"responses":{"200":{"description":"Estimativas encontradas","schema":{"type":"array","items":{"$ref":"#/definitions/estimativasDto"}}},"404":{"description":"Estimativas não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Estimativas"],"produces":["application/json"],"consumes":["application/json"]}},"/estimativas/ponto/{id_origem}/origem/{id_linha}/linha":{"get":{"summary":"Estimativas por Origem e linha","description":"retornar estimativas por ponto de origem e linha. \nOrigem: Geocontrol","parameters":[{"name":"id_linha","required":true,"in":"path","description":"Numero de identificação da linha","type":"number"},{"name":"id_origem","required":true,"in":"path","description":"Numero de identificação do ponto de origem","type":"number"}],"responses":{"200":{"description":"Estimativas encontradas","schema":{"type":"array","items":{"$ref":"#/definitions/estimativasDto"}}},"404":{"description":"Estimativas não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Estimativas"],"produces":["application/json"],"consumes":["application/json"]}},"/gtfs":{"get":{"summary":"GTFS","description":"lista TODOS os arquivos GTFS existentes no minio","responses":{"200":{"description":"Gtfs Encontrado","schema":{"type":"array","items":{"$ref":"#/definitions/gtfsDto"}}},"404":{"description":"Gtfs Não Encontrado","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["GTFS"],"produces":["application/json"],"consumes":["application/json"]}},"/gtfs/{ano}":{"get":{"summary":"GTFS por ano","description":"lista os arquivos GTFS existentes no minio de um ano específicos","parameters":[{"name":"ano","required":true,"in":"path","description":"Ano do GTFS","type":"number"}],"responses":{"200":{"description":"Gtfs Encontrado","schema":{"type":"array","items":{"$ref":"#/definitions/gtfsDto"}}},"404":{"description":"Gtfs Não Encontrado","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["GTFS"],"produces":["application/json"],"consumes":["application/json"]}},"/gtfs/{year}/{month}":{"get":{"summary":"GTFS por ano e mês","description":"lista os arquivos GTFS existentes no minio de um ano e mês específicos","parameters":[{"name":"month","required":true,"in":"path","description":"Mês do GTFS","type":"number"},{"name":"year","required":true,"in":"path","description":"Ano do GTFS","type":"number"}],"responses":{"200":{"description":"Gtfs Encontrado","schema":{"type":"array","items":{"$ref":"#/definitions/gtfsDto"}}},"404":{"description":"Gtfs Não Encontrado","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["GTFS"],"produces":["application/json"],"consumes":["application/json"]}},"/gtfs/{year}/{month}/{day}":{"get":{"summary":"GTFS por data","description":"lista os arquivos GTFS existentes no minio de um ano, mês e dia específicos","parameters":[{"name":"day","required":true,"in":"path","description":"Dia do GTFS","type":"number"},{"name":"month","required":true,"in":"path","description":"Mês do GTFS","type":"number"},{"name":"year","required":true,"in":"path","description":"Ano do GTFS","type":"number"}],"responses":{"200":{"description":"Gtfs Encontrado","schema":{"type":"array","items":{"$ref":"#/definitions/gtfsDto"}}},"404":{"description":"Gtfs Não Encontrado","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["GTFS"],"produces":["application/json"],"consumes":["application/json"]}},"/swagger":{"get":{"summary":"swagger.json","description":"Retorna o arquivo swagger.json para auxiliar na criação de clients pela comunidade","responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/json"}}},"tags":["swagger.json"],"produces":["application/json"],"consumes":["application/json"]}},"/agencias":{"get":{"summary":"Agencias","description":"Lista as agencias registradas. \nOrigem: banco de dados","responses":{"302":{"description":"Agencias encontradas","schema":{"type":"array","items":{"$ref":"#/definitions/Agencia"}}},"404":{"description":"Agencias não encontradas","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Agencias"],"produces":["application/json"],"consumes":["application/json"]}},"/agencias/contatos":{"get":{"summary":"Contatos","description":"Lista os contatos que recebem logs do GTFS. \nOrigem: banco de dados","responses":{"302":{"description":"Contatos encontrados","schema":{"type":"array","items":{"$ref":"#/definitions/Contato"}}},"404":{"description":"Contatos não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Agencias"],"produces":["application/json"],"consumes":["application/json"]}},"/agencias/feriados":{"get":{"summary":"Feriados","description":"Lista os feriados previstos. \nOrigem: banco de dados","responses":{"302":{"description":"Feriados encontrados","schema":{"type":"array","items":{"$ref":"#/definitions/Feriado"}}},"404":{"description":"Feriados não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Agencias"],"produces":["application/json"],"consumes":["application/json"]}},"/agencias/tarifas":{"get":{"summary":"Tarifas","description":"Lista as tarifas. \nOrigem: banco de dados ","responses":{"302":{"description":"Tarifas encontradas","schema":{"type":"array","items":{"$ref":"#/definitions/Tarifa"}}},"404":{"description":"Tarifas não encontradas","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Agencias"],"produces":["application/json"],"consumes":["application/json"]}},"/itinerarios/{codigo_linha}":{"get":{"summary":"Itinerarios por Linha","description":"Listar os itinerarios de uma linha especifica. \nOrigem: banco de dados","parameters":[{"name":"codigo_linha","required":true,"in":"path","description":"codigo da linha. Ex. 509","type":"number"}],"responses":{"302":{"description":"Itinerarios encontrados","schema":{"type":"array","items":{"$ref":"#/definitions/Itinerario"}}},"404":{"description":"Itinerarios não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Itinerarios"],"produces":["application/json"],"consumes":["application/json"]}},"/itinerarios/{codigo_itinerario}/viagens":{"get":{"summary":"Viagens por Itinerario","description":"Listar as viagens de um itinerário especifico. \nOrigem: banco de dados","parameters":[{"name":"codigo_itinerario","required":true,"in":"path","description":"codigo do itinerario","type":"number"}],"responses":{"302":{"description":"Viagems encontradas","schema":{"type":"array","items":{"$ref":"#/definitions/Viagem"}}},"404":{"description":"Viagems não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Itinerarios"],"produces":["application/json"],"consumes":["application/json"]}},"/itinerarios/{codigo_itinerario}/shapes":{"get":{"summary":"Pontos geográficos por Itinerario","description":"Listar os pontos geográficos percorridos por um itinerario (SHAPES). \nOrigem: banco de dados","parameters":[{"name":"codigo_itinerario","required":true,"in":"path","description":"codigo do itinerario (não é o id, é o código)","type":"number"}],"responses":{"302":{"description":"coordenadas encontradas","schema":{"type":"array","items":{"$ref":"#/definitions/PontoGeografico"}}},"404":{"description":"coordenadas não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Itinerarios"],"produces":["application/json"],"consumes":["application/json"]}},"/pontos/{codigo_ponto}/itinerarios":{"get":{"summary":"Itinerarios por Ponto","description":"Listar todos os itinerarios que passam por um ponto. \nOrigem: banco de dados","parameters":[{"name":"codigo_ponto","required":true,"in":"path","description":"codigo do ponto de parada","type":"number"}],"responses":{"302":{"description":"Itinerarios encontrados","schema":{"type":"array","items":{"$ref":"#/definitions/Itinerario"}}},"404":{"description":"Itinerarios não encontrados","schema":{"$ref":"#/definitions/ErrorMessage"}}},"tags":["Pontos"],"produces":["application/json"],"consumes":["application/json"]}}},"definitions":{"Ponto":{"type":"object","properties":{"id":{"type":"number"},"codigo":{"type":"string"},"municipio":{"type":"string"},"logradouro":{"type":"string"},"referencia":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"},"azimute":{"type":"number"},"terminal":{"type":"boolean"}},"required":["id","codigo","municipio","logradouro","referencia","latitude","longitude","azimute","terminal"]},"Date":{"type":"object","properties":{}},"ErrorMessage":{"type":"object","properties":{"mensagem":{"type":"string"},"data":{"$ref":"#/definitions/Date"},"rota":{"type":"string"},"statusCode":{"type":"number"}},"required":["mensagem","data","rota","statusCode"]},"PontoItinerario":{"type":"object","properties":{"itinerarioId":{"type":"number"},"ordem":{"type":"number"},"pontoDeParadaId":{"type":"number"},"embarque":{"type":"boolean"},"desembarque":{"type":"boolean"}},"required":["itinerarioId","ordem","pontoDeParadaId","embarque","desembarque"]},"LinhaDto":{"type":"object","properties":{"id":{"type":"number"},"codigo":{"type":"string"},"descricao":{"type":"string"}},"required":["id","codigo","descricao"]},"itinerarioDto":{"type":"object","properties":{"id":{"type":"number"},"codigo":{"type":"string"},"bandeira":{"type":"string"},"linhaId":{"type":"number"}},"required":["id","codigo","bandeira","linhaId"]},"HorarioDto":{"type":"object","properties":{"Linha":{"type":"string"},"Hora_Saida":{"type":"string"},"Terminal_Seq":{"type":"number"},"TP_Horario":{"type":"number"},"Descricao_Hora":{"type":"string"},"Descricao_Linha":{"type":"string"},"Desc_Terminal":{"type":"string"},"Tipo_Orientacao":{"type":"string"},"Dt_Inicio":{"type":"string"}},"required":["Linha","Hora_Saida","Terminal_Seq","TP_Horario","Descricao_Hora","Descricao_Linha","Desc_Terminal","Tipo_Orientacao","Dt_Inicio"]},"HorarioObsDto":{"type":"object","properties":{"Tipo_Orientacao":{"type":"string"},"Descricao_Orientacao":{"type":"string"}},"required":["Tipo_Orientacao","Descricao_Orientacao"]},"ViagemDto":{"type":"object","properties":{"dataAgendada":{"type":"number"},"linhaId":{"type":"number"},"itinerarioId":{"type":"number"},"dataChegadaEstimada":{"type":"number"},"veiculo":{"type":"string"},"acessibilidade":{"type":"boolean"}},"required":["dataAgendada","linhaId","itinerarioId","dataChegadaEstimada","veiculo","acessibilidade"]},"estimativasDto":{"type":"object","properties":{"veiculo":{"type":"string"},"acessibilidade":{"type":"boolean"},"itinerarioId":{"type":"number"},"horarioDePartida":{"type":"number"},"horarioNaOrigem":{"type":"number"},"horarioDaTransmissao":{"type":"number"},"pontoFinal":{"type":"boolean"},"busStopPosition":{"type":"number"},"busStopFinalPosition":{"type":"number"},"horarioNoDestino":{"type":"number"}},"required":["veiculo","acessibilidade","itinerarioId","horarioDePartida","horarioNaOrigem","horarioDaTransmissao","pontoFinal","busStopPosition","busStopFinalPosition","horarioNoDestino"]},"gtfsDto":{"type":"object","properties":{"year":{"type":"string"},"month":{"type":"string"},"day":{"type":"string"},"hour":{"type":"string"},"size":{"type":"string"},"filename":{"type":"string"},"url":{"type":"string"}},"required":["year","month","day","hour","size","filename","url"]},"json":{"type":"object","properties":{}},"Agencia":{"type":"object","properties":{"id":{"type":"number"},"dataregistro":{"$ref":"#/definitions/Date"},"atualizadoem":{"$ref":"#/definitions/Date"},"nome":{"type":"string"},"url":{"type":"string"},"telefone":{"type":"string"}},"required":["id","dataregistro","atualizadoem","nome","url","telefone"]},"Contato":{"type":"object","properties":{"id":{"type":"number"},"dataregistro":{"$ref":"#/definitions/Date"},"atualizadoem":{"$ref":"#/definitions/Date"},"nome":{"type":"string"},"email":{"type":"string"},"ativo":{"type":"boolean"},"agencia_id":{"type":"number"}},"required":["id","dataregistro","atualizadoem","nome","email","ativo","agencia_id"]},"Feriado":{"type":"object","properties":{"id":{"type":"number"},"dataregistro":{"$ref":"#/definitions/Date"},"atualizadoem":{"$ref":"#/definitions/Date"},"nome":{"type":"string"},"data":{"$ref":"#/definitions/Date"},"dataupload":{"$ref":"#/definitions/Date"},"agencia_id":{"type":"number"}},"required":["id","dataregistro","atualizadoem","nome","data","dataupload","agencia_id"]},"Tarifa":{"type":"object","properties":{"id":{"type":"number"},"dataregistro":{"$ref":"#/definitions/Date"},"atualizadoem":{"$ref":"#/definitions/Date"},"preco":{"type":"object"},"dataupload":{"$ref":"#/definitions/Date"},"agencia_id":{"type":"number"}},"required":["id","dataregistro","atualizadoem","preco","dataupload","agencia_id"]},"Itinerario":{"type":"object","properties":{"id":{"type":"number"},"codigo":{"type":"number"},"bandeira":{"type":"string"},"linhaId":{"type":"number"}},"required":["id","codigo","bandeira","linhaId"]},"Viagem":{"type":"object","properties":{"id":{"type":"number"},"dataregistro":{"$ref":"#/definitions/Date"},"atualizadoem":{"$ref":"#/definitions/Date"},"horadasaida":{"type":"string"},"horadachegada":{"type":"string"},"veiculo":{"type":"string"},"acessibilidade":{"type":"boolean"},"diautil":{"type":"boolean"},"sabado":{"type":"boolean"},"domingo":{"type":"boolean"},"itinerario_id":{"type":"number"}},"required":["id","dataregistro","atualizadoem","horadasaida","horadachegada","veiculo","acessibilidade","diautil","sabado","domingo","itinerario_id"]},"PontoGeografico":{"type":"object","properties":{"id":{"type":"number"},"dataregistro":{"$ref":"#/definitions/Date"},"atualizadoem":{"$ref":"#/definitions/Date"},"latitude":{"type":"string"},"longitude":{"type":"string"},"altitude":{"type":"string"},"sequencia":{"type":"number"},"dataupload":{"$ref":"#/definitions/Date"},"itinerario_id":{"type":"number"}},"required":["id","dataregistro","atualizadoem","latitude","longitude","altitude","sequencia","dataupload","itinerario_id"]}}}